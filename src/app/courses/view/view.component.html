<app-header select="View"></app-header>
<div class="container">
  <h2 style="margin-left: 510px">Timesheet</h2><br>

  <div class="col-sm-3">
    <label>Batch :</label>
    <select class="form-control" [(ngModel)]="selectedBatch" (change)='loadSessions()' placeholder="Select Batch">
      <!-- <option value="" selected disabled>Select Batch</option> -->
      <option *ngFor="let x of batches; index as i" [value]="x.batchId">{{x.batchName}}</option>
    </select><br><br>
  </div><br>

  <div *ngIf="var1" style="margin-top: 50px">
    <div>
    <table class="table table-bordered table-responsive tableFixHead">
      <thead >
        <tr>
          <th>Date</th>
          <th>Course</th>
          <th>Start Time</th>
          <th>End Time</th>
          <th>Trainer</th>
          <th>Back Up Trainer</th>
          <th>Comments</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let recipient of datewiseSessions | keyvalue" style="text-transform: capitalize">
          <td rowspan="recipient.value.length">{{recipient.key}}</td>
          <td>
        <tr *ngFor="let data of recipient.value; let i= index;">
          <td>{{recipient.value[i].course.course_name}}</td>
        </tr>
        </td>
        <td>
          <tr *ngFor="let data of recipient.value; let i= index;">
            <td>{{recipient.value[i].start_time|date:'h:mm a'}}</td>
          </tr>
        </td>
        <td>
          <tr *ngFor="let data of recipient.value; let i= index;">
            <td>{{recipient.value[i].end_time|date:'h:mm a'}}</td>
          </tr>
        </td>
        <td>
          <tr *ngFor="let data of recipient.value; let i= index;">
            <td>{{recipient.value[i].trainer.trainer_name}}</td>
          </tr>
        </td>
        <td>
          <tr *ngFor="let data of recipient.value; let i= index;">
            <td *ngIf="recipient.value[i].backup_trainer!=undefined;">{{recipient.value[i].backupTrainer.trainer_name}}</td>
            <td *ngIf="recipient.value[i].backup_trainer==undefined;">NA</td>

          </tr>
        </td>
        <td>
          <tr *ngFor="let data of recipient.value; let i= index;">
            <td>{{recipient.value[i].comment}}</td>
          </tr>
        </td>
        </tr>
      </tbody>
    </table>
    </div>
  </div>

  <div *ngIf="var2" class="select">
    <img src="../../../assets/Images/noData.jpg" class="img-fluid" alt="Responsive image" height="300" width="300">
  </div>
</div>